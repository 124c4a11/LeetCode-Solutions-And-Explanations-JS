/**
 * @param {number[]} arr
 * @return {number}
 * 
 * countElements перебирает элементы входного массива
 * и возвращает количество элементов, для которых в
 * массиве присутствует значение, равное этому
 * элементу плюс один.
 * 
 * Она принимает **один параметр** — массив `arr`.  
 * 
 * Параметры: 
 *   arr — массив целых чисел
 * 
 * 
 * Пример для: 
 *   arr = [1, 2, 3]  
 * Результат:
 *   2
 * Пояснение:
 * - для 1 существует 2 → +1  
 * - для 2 существует 3 → +1  
 * - для 3 не существует 4 → 0  
 */
function countElements(arr) {

  // Создаём Set на основе входного массива arr.
  //
  // Set автоматически удаляет дубликаты и
  // обеспечивает амортизированное O(1) время для
  // операций has/add.
  //
  // Это позволяет быстро проверять наличие
  // конкретного значения (num + 1) без
  // необходимости линейного поиска по массиву.
  const set = new Set(arr);

  // Инициализируем счётчик result нулём.
  // 
  // Он будет накапливать количество элементов из
  // arr, для которых в множестве присутствует
  // значение на единицу больше
  let result = 0;

  // Итерация по каждому элементу исходного массива
  // arr в порядке их следования.
  for (const num of arr) {

    // Для текущего элемента num вычисляем
    // выражение num + 1 и проверяем, содержится
    // ли такое значение в множестве set.
    //
    // Если да, увеличиваем счётчик result на
    // единицу.
    if (set.has(num + 1)) result++;
  }

  // Возвращаем итоговое значение счётчика
  // — количество элементов в arr, для которых
  // существует элемент, равный текущему + 1
  return result;
}
