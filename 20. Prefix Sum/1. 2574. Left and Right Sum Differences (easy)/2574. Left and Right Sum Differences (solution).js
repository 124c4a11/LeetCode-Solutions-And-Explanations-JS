/**
 * @param {number[]} nums
 * @return {number[]}
 * 
 * 
 * leftRightDifference вычисляет для каждого элемента входного
 * массива абсолютную разницу между суммой всех элементов
 * слева от этой позиции и суммой всех элементов справа от
 * этой позиции.
 * 
 * Для каждой позиции i результат равен
 * |leftSum[i] - rightSum[i]|
 * 
 * Параметры:
 *   nums — массив чисел. 
 * 
 * Возвращаемое значение:
 *   Возвращает массив той же длины, что и nums. На позиции i
 *   этого массива находится абсолютная разница между суммой
 *   элементов слева от i и суммой элементов справа от i. Если
 *   nums пустой, возвращается пустой массив.
 * 
 * 
 * Пример для:
 *   nums = [10,4,8,3]
 * Результат:
 *   [15,1,11,22]
 * Пояснение:
 *   Массив leftSum равен [0,10,14,22], а массив rightSum
 *   равен [15,11,3,0].
 * 
 *   Массив answer вычисляется как
 *   [|0 - 15|, |10 - 11|, |14 - 3|, |22 - 0|] = [15,1,11,22].
 */
function leftRightDifference(nums) {

  // Создаём пустой массив result, в который будем по порядку
  // добавлять вычисленные значения для каждой позиции.
  // 
  // Итоговая длина будет равна nums.length.
  const result = [];

  // Инициализируем leftSum нулём.
  // 
  // В процессе обхода это будет инвариантно представлять
  // сумму всех элементов, расположенных строго слева от
  // текущей позиции.
  let leftSum = 0;

  // Вычисляется общая сумма всех элементов массива nums с
  // помощью метода reduce и результат сохраняется в rightSum.
  // 
  // Изначально rightSum содержит сумму всех элементов.
  // 
  // Перед обработкой элемента из неё будет вычитаться сам
  // элемент, поэтому в теле цикла rightSum всегда будет
  // представлять сумму элементов строго справа от текущей
  // позиции.
  let rightSum = nums.reduce((a, b) => a + b, 0);

  // Итерация по элементам массива nums в порядке следования
  for (const num of nums) {

    // Убираем значение текущего элемента из rightSum, чтобы
    // rightSum стал суммой элементов, находящихся строго
    // справа от текущей позиции.
    rightSum -= num;

    // Вычисляем разницу между суммой слева и суммой справа,
    // берём абсолютное значение, чтобы получить
    // неотрицательную величину, и добавляем результат в
    // конец массива result.
    //
    // На этом этапе leftSum — сумма элементов слева от
    // текущей позиции, rightSum — сумма элементов справа.
    //
    // Текущий элемент в вычислении не учитывается.
    result.push(Math.abs(leftSum - rightSum));

    // После вычисления для текущей позиции включаем текущий
    // элемент в leftSum, чтобы при переходе к следующему
    // элементу leftSum корректно отражал сумму слева от
    // следующей позиции.
    leftSum += num;
  }

  // Возвращаем массив result.
  // 
  // Каждый элемент — абсолютная разница сумм слева и справа
  // для соответствующей позиции.
  return result;
}
