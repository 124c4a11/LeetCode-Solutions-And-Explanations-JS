/**
 * @param {string[][]} items
 * @param {string} ruleKey
 * @param {string} ruleValue
 * @return {number}
 * 
 * countMatches подсчитывает, сколько элементов в массиве
 * соответствуют заданному правилу — то есть у которых
 * значение поля с ключом ruleKey равно ruleValue.
 * 
 * Какие параметры принимает:
 * - items — массив массивов строк. Каждый внутренний
 *   массив содержит ровно три строки:
 *   [type, color, name].
 * 
 * - ruleKey — строка, определяющая, по какому полю
 *   сравнивать: допустимые значения
 *   — "type", "color", "name". 
 * 
 * - ruleValue — строка, с которой сравнивается
 *   соответствующее поле в каждом элементе. Если поле
 *   равно этой строке, элемент считается совпадающим.
 * 
 * 
 * Пример для:
 *   items = [
 *     ["phone","blue","pixel"],
 *     ["computer","silver","lenovo"],
 *     ["phone","gold","iphone"]
 *   ],
 * 
 *   ruleKey = "color",
 * 
 *   ruleValue = "silver"
 * Результат:
 *   1
 * Пояснение:
 *   Только один элемент соответствует заданному правилу
 *   — это ["computer","silver","lenovo"].
 */
function countMatches(items, ruleKey, ruleValue) {

  // Создаётся объект-словарь для преобразования текстового
  // ключа правила в числовой индекс подмассива
  // 
  // Это позволяет обращаться к нужному значению подмассива
  // по значению ruleKey за O(1)
  const keyToNdx = {

    // Поле "type" соответствует индексу 0 в каждом
    // подмассиве
    type: 0,

    // Поле "color" соответствует индексу 1 в каждом
    // подмассиве
    color: 1,

    // Поле "name" соответствует индексу 2 в каждом
    // подмассиве
    name: 2,
  };

  // Инициализация счётчика совпадений.
  // 
  // Будет увеличиваться при каждом найденном
  // соответствии
  let result = 0;

  // Итерация по каждому элементу входного массива items
  for (const item of items) {

    // Получаем индекс значения в подмассиве,
    // соответствующего ruleKey, через keyToNdx[ruleKey]
    // 
    // Затем сравниваем полученное значение ruleValue 
    //
    // Если совпадение найдено, увеличиваем счётчик result
    // на единицу
    if (item[keyToNdx[ruleKey]] === ruleValue) result++;
  }

  // Возвращаем итоговое количество элементов,
  // удовлетворяющих правилу
  return result;
}
