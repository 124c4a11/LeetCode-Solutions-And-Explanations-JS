/**
 * @param {string} date
 * @return {string}
 * 
 * convertDateToBinary преобразует строку даты,
 * разделённую дефисами, в строку, где год, месяц
 * и день заменены их двоичными представлениями,
 * и возвращает результат в том же формате
 * год-месяц-день. 
 * 
 * Параметры:
 * - date в формате с частями, разделёнными -
 *   yyyy-mm-dd
 * 
 * 
 * Пример для:
 *   date = "2080-02-29"
 * Результат:
 *   "100000100000-10-11101"
 * Пояснение:
 *   100000100000, 10 и 11101 — двоичные
 *   представления чисел 2080, 02 и 29
 *   соответственно.
 */
function convertDateToBinary(date) {

  // Создаём константу dateArr и присваиваем ей
  // результат вызова метода split на строке date
  // с разделителем '-'.
  // 
  // split возвращает массив строк.
  // 
  // Если в date нет '-', вернётся массив из
  // одной строки — самой date.
  // 
  // Пример:
  // "2080-02-29".split('-') → ["2080", "02", "29"].
  const dateArr = date.split('-');

  // Запускает цикл по индексам массива dateArr
  // 
  // Используется классический цикл for, чтобы
  // изменять элементы массива на месте, не
  // создавая дополнительных массивов для
  // промежуточных результатов, тем самым экономя
  // память.
  for (let i = 0; i < dateArr.length; i++) {

    // В теле цикла происходит преобразование
    // текущего элемента dateArr[i]:
    // 1. Number(dateArr[i]) — пытается привести
    //    строку к числу. Это удаляет ведущие
    //    нули и превращает "02" в 2. 
    // 
    //    Если строка не является корректным
    //    числовым литералом (например, "abc"),
    //     Number вернёт NaN.
    // 
    // 2. .toString(2) — вызывается на числовом
    //    значении и возвращает строку с
    //    представлением числа в двоичной
    //    системе.
    // 
    //    Если аргумент Number(...) вернул NaN,
    //    попытка вызвать toString приведёт к
    //    ошибке, поэтому важно, чтобы вход был
    //    числовым.
    // 
    // 3. Результат (строка с двоичным
    //    представлением) присваивается обратно
    //    в dateArr[i], заменяя исходную часть.
    // 
    // Пример:
    //   Если dateArr[i] === "2080"
    //   → Number("2080")
    //   → 2080 
    //   → 2080.toString(2) 
    //   → "100000100000", 
    //   → dateArr[i] станет "100000100000".
    dateArr[i] = Number(dateArr[i]).toString(2);
  }

  // Возвращаем итоговую строку:
  // 
  // Элементы массива dateArr соединяются
  // методом join с разделителем '-'.
  // 
  // В результате получаем строку, где каждая
  // часть исходной даты заменена её двоичным
  // представлением.
  //
  // Пример:
  // ["100000100000", "10", "11101"]
  // → "100000100000-10-11101"
  return dateArr.join('-');
}
